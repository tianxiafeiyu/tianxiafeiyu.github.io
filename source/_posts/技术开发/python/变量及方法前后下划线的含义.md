---
title: 变量及方法前后下划线的含义
date: 2022-12-15 23:22:29
updated: 2022-12-16 21:36:16
toc: true
tags: 
    - 变量及方法前后下划线的含义
---
单下划线和双下划线在Python变量名和方法名中都有各自的含义。有些仅仅是作为约定，用于提示开发人员；而另一些则对Python解释器有特殊含义。

总的来说有一下几种情况：

*   前置单下划线：\_var
*   后置单下划线：var\_
*   前置双下划线：\_\_var
*   前后双下划线：**var**
*   单下划线：\_

### 1. 前置单下划线：\_var

"单下划线 " 开始的成员变量相当于私有变量，也叫做保护变量，意思是只有类实例和子类实例能访问到这些变量，需通过类提供的接口进行访问（可以定义有点像java中的getter、setter方法，借助方法访问，而不是直接对变量动刀子）；不能用’from module import \*'导入。其实，Python并没有真正的私有化支持，用下划线得到的是伪私有，也就是说如果你强行要用也是可以的，但不符合python的规范。我们应该尽量避免重新定义以下划线开头的变量。

### 2. 后置单下划线：var\_

有时，某个变量最合适的名称已被Python语言中的关键字占用。因此，诸如class或def的名称不能用作Python中的变量名。在这种情况下，可以追加一个下划线来绕过命名冲突。

例如：sqlalchemy的查询

    session.query(model).filter(model.name.in_(names), model.age.is_(None))

总之，用一个后置单下划线来避免与Python关键字的命名冲突是一个约定。

### 3. 前置双下划线：\_\_var

类中的私有变量/方法名 （Python的函数也是对象，所以成员方法称为成员变量也行得通）。" 双下划线 " 开始的是私有成员，意思是只有类对象自己能访问，连子类对象也不能访问到这个数据。可以理解为Java上真正的私有变量。

```
class A(object):
    _num = 0    # 可以访问
    num_ = 0    # 可以访问
    __num = 0   # 只有类内可以访问
    __num__ = 0 # 可以访问


    def __method(self):
        print('I am method A')

    def method(self):
        # 只允许类内调用， a = A(); a.__method()报错；
        return self.__method()


class B(A):
    def __method(self):
        # 子类无法重写__method()函数
        print('I am method B')


if __name__ == '__main__':
    a = A()
    a.method()
    b = B()
    b.method()

```

输出：

    I am method A
    I am method A

### 4. 前后双下划线：**var**

系统定义名字，前后均有一个“双下划线” 代表python里特殊方法专用的标识，如 **init**（）代表类的构造函数。类似\_\_xxx\_\_这样的变量是特殊变量，可以被直接引用，但是有特殊用途，比如一个模块的\_\_author\_\_，\_\_name\_\_就是特殊变量，模块定义的文档注释（就是模块开头的字符串）也可以用特殊变量\_\_doc\_\_访问，我们自己的变量一般不要用这种变量名，以避免与将来Python语言的变化产生冲突。

### 5. 单下划线：\_

按照习惯，有时候单个独立下划线是用作一个名字，来表示某个变量是临时的或无关紧要的。通常被称为丢弃变量
